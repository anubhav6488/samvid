<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Received Data</title>
    <link rel="stylesheet" href = "./page2.css";
    <!-- Include html2pdf library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
</head>
<body style = "height: 100vh;
background-color:#edf1f6;">
    <div class = "bg-img-slider">
        <div class = "bg-img 1">
             <img src ="./images/page2-wallppr.jpg">
        </div>
    </div>
    <h1 style = "margin-bottom: 0; margin-top: 3%;color:white">Welcome To <span style = "color:gold">SAMVID</span></h1>
    <h1 style = "text-align: center;
    color: black;margin-top:2%;color:white">Received Data</h1>
    <div id="data"></div>
    <button id="downloadBtn">Download PDF</button>
</body>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Parse the query string to get the form data
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);

            // Extract the data from the query string
            const First_Name = urlParams.get('First_Name');
            const lastName = urlParams.get('Last_Name');
            const number = urlParams.get('Number');
            const email = urlParams.get('email');
            const token = urlParams.get('token'); // Generate a token

            // Display the data on the page
            const dataDiv = document.getElementById('data');
            dataDiv.innerHTML = `
                <p style = "font-size:1.3rem;margin-left:5%"><strong>First Name:</strong> ${First_Name}</p>
                <p style = "font-size:1.3rem;margin-left:5%"><strong>Last Name:</strong> ${lastName}</p>
                <p style = "font-size:1.3rem;margin-left:5%"><strong>Number:</strong> ${number}</p>
                <p style = "font-size:1.3rem;margin-left:5%"><strong>Email:</strong> ${email}</p>
                <p style = "font-size:1.3rem;margin-left:5%"><strong>Token:</strong> ${token}</p>
            `;

            // Add event listener to the download button
            document.getElementById('downloadBtn').addEventListener('click', function() {
                // Generate PDF containing the received data
                generatePDF(First_Name, lastName, number, email, token);
            });
        });

        // Function to generate a random alphanumeric token
        function generateToken(length) {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let token = '';
            for (let i = 0; i < length; i++) {
                token += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return token;
        }

        // Function to generate PDF
        function generatePDF(firstName, lastName, number, email, token) {
            const content = `
                <div style = "height:1123px;width:794px;background-color:#2f1442">
                    <div style = "padding-top:50px">
                        <h1 style = "margin-top:0;color:white">Welcome to <span style = "color:gold">SAMVID</span><h1>
                        <h1 style = "color:white">Received Data</h1>
                    </div>
                    <div style = "background-color:#925366;border-radius:2vh;width:60%;margin-left:20%;height:30%">
                        <p style = "padding-top:30px;"><strong>First Name:</strong> ${firstName}</p>
                        <p><strong>Last Name:</strong> ${lastName}</p>
                        <p><strong>Number:</strong> ${number}</p>
                        <p><strong>Email:</strong> ${email}</p>
                        <p><strong>Token:</strong> ${token}</p>
                    </div>
                </div>   
            `;

            // Generate PDF and trigger download
            html2pdf().from(content).save('received_data.pdf');
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Received Data</title>
    <!-- Include html2pdf library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
</head>
<body>

    <!-- <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Parse the query string to get the form data
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);

            // Extract the data from the query string
            const First_Name = urlParams.get('First_Name');
            const lastName = urlParams.get('Last_Name');
            const number = urlParams.get('Number');
            const email = urlParams.get('email');
            const token = urlParams.get('token'); // Generate a token

            // Display the data on the page
            const dataDiv = document.getElementById('data');
            dataDiv.innerHTML = `
                <p><strong>First Name:</strong> ${First_Name}</p>
                <p><strong>Last Name:</strong> ${lastName}</p>
                <p><strong>Number:</strong> ${number}</p>
                <p><strong>Email:</strong> ${email}</p>
                <p><strong>Token:</strong> ${token}</p>
            `;

            // Add event listener to the download button
            document.getElementById('downloadBtn').addEventListener('click', function() {
                // Generate PDF containing the received data
                generatePDF(First_Name, lastName, number, email, token);
            });
        });

        // Function to generate a random alphanumeric token
        function generateToken(length) {
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
            let token = '';
            for (let i = 0; i < length; i++) {
                token += characters.charAt(Math.floor(Math.random() * characters.length));
            }
            return token;
        }

        // Function to generate PDF
        function generatePDF(firstName, lastName, number, email, token) {
            const content = `
                <h1>Received Data</h1>
                <p><strong>First Name:</strong> ${firstName}</p>
                <p><strong>Last Name:</strong> ${lastName}</p>
                <p><strong>Number:</strong> ${number}</p>
                <p><strong>Email:</strong> ${email}</p>
                <p><strong>Token:</strong> ${token}</p>
            `;

            // Generate PDF and trigger download
            html2pdf().from(content).save('received_data.pdf');
        }
    </script> -->
</body>
</html>
